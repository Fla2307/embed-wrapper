<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Whereby Proxy</title>
    <script src="https://cdn.srv.whereby.com/embed/v2-embed.js" type="module"></script>
  </head>
  <body style="display: flex; margin: 0; padding: 0; height: 100vh; width: 100vw; overflow: hidden;">
    <div id="root" style="width: 100%; height: 100%; margin: 0; padding: 0;"></div>
    <script>
      const url = new URL(location.href)

      const roomUrl = new URL("https://my-digital-village-phone.whereby.com")
      roomUrl.pathname = url.pathname
      roomUrl.search = url.search

      const root = document.getElementById("root")
      const whereby = document.createElement("whereby-embed")
      whereby.setAttribute("room", roomUrl.href)
      whereby.setAttribute("minimal", true)
      whereby.setAttribute("style", "height: 100%;")
      root.appendChild(whereby)
    </script>
  </body>
</html>

